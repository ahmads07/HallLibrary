<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Update Member</title>
    <link rel="stylesheet" href="assets/css/main.css" />

    <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <script src="assets/js/scripts.js"></script>

    <script>
        $.ajax({
            type: 'Get',
            dataType: 'JSON',
            url: 'https://halllibrary.herokuapp.com/api/members',
            success: function (data) {
                // location.reload();
                console.log(data)
                i = 0;
                while (i < data.length) {
                    member = data[i];
                    $("#member_id_input").append("<option value='" + member.MemberID + "'>" + member.Lastname + " " + member.Firstname,"\</option>");
                    i = i + 1;
                }

                $("#member_id_input").change(function(){
                    member = getMemberInfo(($("#member_id_input").val()));
                });
                $("#update_member_but").click(function(){
                    updateMemberInfo($("#member_id_input").val());
                });
            },
            error: function (err) {
                console.log(err);
            }
        });
        $(document).ready(function () {


        });
    </script>
</head>
<body>
<form onsubmit ="return false">
    <h2><u>Update Member</u></h2>
    <p><label> Member: </label>
        <select id="member_id_input">
            <option value = "">Select one</option>
        </select>
    </p>
    <table>
        <tr> <td>Last Name:</td> <td ><input id = "member_lastname" type = "text" maxlength="25" size="25"></td></tr>
        <tr> <td>First Name:</td> <td ><input id = "member_firstname" type = "text" maxlength="25"size="25"></td><tr>
        <tr> <td>Date of Birth:</td> <td ><input id = "member_dateOfBirth" type = "date" maxlength="25"size="25"></td><tr>
        <tr> <td>Street Address:</td> <td ><input id = "member_street_address" type = "text" maxlength="30" size="30"></td></tr>
        <tr> <td>Suburb:</td> <td ><input id = "member_suburb" type = "text" maxlength="100" size="100"></td></tr>
        <tr> <td>Email Address:</td> <td ><input id = "member_email_address" type = "text" maxlength="30" size="30"></td></tr>
        <tr> <td>Phone Number:</td> <td ><input id = "member_phone_number" type = "number" maxlength="16" size="16"></td></tr>
        <tr> <td>Fines Due:</td> <td ><input id = "member_fines_due" type = "number" maxlength="100" size="100"></td></tr>
        <tr> <td>Membership Type:</td> <td ><input id = "member_membership_type" type = "text" maxlength="10" size="10"></td></tr>

        </select></td></tr>
    </table>

    </p>
    <button class = "button fit special" type="button" id="update_member_but">Update Member</button>
    <a class = "button fit" href="MainMenu.html">Cancel</a>
</form>
</body>
</html>
